{"version":3,"file":"angular-file-upload.min.js","sources":["angular-file-upload.js"],"names":["angular","factory","define","amd","app","module","directive","$fileUploader","link","hasHTML5","scope","element","attributes","bind","event","dataTransfer","originalEvent","preventDefault","stopPropagation","$broadcast","$emit","files","$eval","ngFileDrop","dropEffect","noop","$on","addClass","ngFileOver","removeClass","removeAttr","this","ngFileSelect","prop","$compile","$rootScope","$http","$window","Uploader","params","extend","url","alias","queue","headers","progress","autoUpload","removeAfterUpload","requestMethod","filters","formData","isUploading","_nextIndexOfUpload","_timestamp","Date","now","_observer","$new","unshift","_filter","items","options","addToQueue","Item","prototype","_beforeupload","_progress","_success","_error","_complete","_changedQueue","isElement","file","input","clone","uploader","form","iframe","value","val","lastModifiedDate","size","type","replace","name","match","_form","after","append","isUploaded","isComplete","indexOfUpload","item","handler","trigger","Array","slice","call","arguments","apply","File","FormData","length","forEach","isValid","every","filter","copy","push","uploadAll","removeFromQueue","index","isObject","getIndexOfItem","splice","_destroyForm","clearQueue","indexOf","getNotUploadedItems","uploadItem","transport","_hasForm","isNumber","_getItemsWithIndexOfUpload","sort","item1","item2","_getTotalProgress","notUploaded","uploaded","ratio","current","Math","round","result","$$phase","$apply","isDefined","_xhrTransport","xhr","XMLHttpRequest","that","obj","key","upload","addEventListener","lengthComputable","loaded","total","response","_transformResponse","_isSuccessCode","status","open","setRequestHeader","send","_iframeTransport","find","remove","action","method","target","enctype","encoding","unbind","contents","body","innerHTML","dummy","submit","defaults","transformResponse","transformFn","create"],"mappings":"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"}